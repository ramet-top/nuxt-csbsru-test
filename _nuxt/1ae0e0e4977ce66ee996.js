(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{469:function(t,e,n){var content=n(470);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(16).default)("63c9496b",content,!0,{sourceMap:!1})},470:function(t,e,n){(e=n(15)(!1)).push([t.i,".v-snack{align-items:center;color:#fff;display:flex;font-size:.875rem;left:8px;pointer-events:none;position:fixed;right:8px;transition-duration:.15s;transition-timing-function:cubic-bezier(0,0,.2,1);z-index:1000}.v-application--is-ltr .v-snack{text-align:left}.v-application--is-rtl .v-snack{text-align:right}.v-snack--absolute{position:absolute}.v-snack--top{top:8px}.v-snack--bottom{bottom:8px}.v-snack__wrapper{align-items:center;background-color:#323232;border-radius:4px;display:flex;margin:0 auto;pointer-events:auto;transition:inherit;transition-property:opacity,transform;min-width:100%;box-shadow:0 3px 5px -1px rgba(0,0,0,.2),0 6px 10px 0 rgba(0,0,0,.14),0 1px 18px 0 rgba(0,0,0,.12)}.v-snack__content{align-items:center;display:flex;min-height:48px;justify-content:space-between;overflow:hidden;padding:8px 16px;width:100%}.v-snack__content .v-btn{flex:0 0 auto;height:auto;min-width:auto;padding:8px;width:auto}.v-snack__content .v-btn--icon,.v-snack__content .v-btn--outlined,.v-snack__content .v-btn--text{color:#fff}.v-application--is-ltr .v-snack__content .v-btn{margin:0 -8px 0 24px}.v-application--is-rtl .v-snack__content .v-btn{margin:0 24px 0 -8px}.v-snack__content .v-btn__content{margin:-2px}.v-snack--multi-line .v-snack__content{height:auto;min-height:68px}.v-snack--vertical .v-snack__content{align-items:stretch;flex-direction:column;height:auto;padding:16px 16px 8px}.v-snack--vertical .v-snack__content .v-btn.v-btn{align-self:flex-end;justify-self:flex-end;margin-top:18px}.v-application--is-ltr .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-left:0}.v-application--is-rtl .v-snack--vertical .v-snack__content .v-btn.v-btn{margin-right:0}.v-snack--vertical .v-snack__content .v-btn__content{flex:0 0 auto;margin:0}@media only screen and (min-width:600px){.v-snack__wrapper{min-width:344px;max-width:672px}.v-snack--left .v-snack__wrapper{margin-left:0}.v-snack--right .v-snack__wrapper{margin-right:0}.v-application--is-ltr .v-snack__content .v-btn:first-of-type{margin-left:42px}.v-application--is-rtl .v-snack__content .v-btn:first-of-type{margin-right:42px}}.v-snack-transition-enter .v-snack__wrapper{transform:scale(.8)}.v-snack-transition-enter .v-snack__wrapper,.v-snack-transition-leave-to .v-snack__wrapper{opacity:0}",""]),t.exports=e},517:function(t,e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"authenticateUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"identifier"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"password"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"login"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"identifier"},value:{kind:"Variable",name:{kind:"Name",value:"identifier"}}},{kind:"ObjectField",name:{kind:"Name",value:"password"},value:{kind:"Variable",name:{kind:"Name",value:"password"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"jwt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"role"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}],loc:{start:0,end:316}};n.loc.source={body:"mutation authenticateUser($identifier: String!, $password: String!) {\n  login(input: { identifier: $identifier, password: $password }) {\n    jwt\n    user {\n      id\n      username\n      role{\n        name\n      }\n      # email\n      # firstName\n      # lastName\n      # imageUrl{\n      #   url\n      # }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};var r={};function o(t,e){for(var i=0;i<t.definitions.length;i++){var element=t.definitions[i];if(element.name&&element.name.value==e)return element}}n.definitions.forEach((function(t){if(t.name){var e=new Set;!function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var r=e.type;"NamedType"===r.kind&&n.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}(t,e),r[t.name.value]=e}})),t.exports=n,t.exports.authenticateUser=function(t,e){var n={kind:t.kind,definitions:[o(t,e)]};t.hasOwnProperty("loc")&&(n.loc=t.loc);var c=r[e]||new Set,l=new Set,v=new Set;for(c.forEach((function(t){v.add(t)}));v.size>0;){var d=v;v=new Set,d.forEach((function(t){l.has(t)||(l.add(t),(r[t]||new Set).forEach((function(t){v.add(t)})))}))}return l.forEach((function(e){var r=o(t,e);r&&n.definitions.push(r)})),n}(n,"authenticateUser")},518:function(t,e,n){"use strict";n(18),n(469);var r=n(23),o=n(42),c=n(74),l=n(10),v=n(13);e.a=Object(l.a)(r.a,o.a,Object(c.b)(["absolute","top","bottom","left","right"])).extend({name:"v-snackbar",props:{multiLine:Boolean,timeout:{type:Number,default:6e3},vertical:Boolean},data:function(){return{activeTimeout:-1}},computed:{classes:function(){return{"v-snack--active":this.isActive,"v-snack--absolute":this.absolute,"v-snack--bottom":this.bottom||!this.top,"v-snack--left":this.left,"v-snack--multi-line":this.multiLine&&!this.vertical,"v-snack--right":this.right,"v-snack--top":this.top,"v-snack--vertical":this.vertical}}},watch:{isActive:function(){this.setTimeout()}},created:function(){this.$attrs.hasOwnProperty("auto-height")&&Object(v.d)("auto-height",this)},mounted:function(){this.setTimeout()},methods:{setTimeout:function(){var t=this;window.clearTimeout(this.activeTimeout),this.isActive&&this.timeout&&(this.activeTimeout=window.setTimeout((function(){t.isActive=!1}),this.timeout))}},render:function(t){return t("transition",{attrs:{name:"v-snack-transition"}},[this.isActive&&t("div",{staticClass:"v-snack",class:this.classes,on:this.$listeners},[t("div",this.setBackgroundColor(this.color,{staticClass:"v-snack__wrapper",attrs:{role:"alert"}}),[t("div",{staticClass:"v-snack__content"},this.$slots.default)])])])}})},615:function(t,e,n){"use strict";n.r(e);n(14),n(11),n(9),n(7),n(12),n(54),n(58);var r=n(20),o=n(3),c=n(517),l=n.n(c),v=n(81);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var f={layout:"login",head:function(){return{title:"เข้าสู่ระบบ"}},middleware:["isAuth"],data:function(){return{BASE_URL:"https://strapi-csbsru.herokuapp.com/admin",btnDis:!1,submitting:!1,error:null,credentials:{identifier:"5821207010",password:"123456789"},successfulData:null,snackbar:!1,text:"สำหรับการเข้าใช้งาน สามารถเข้าใช้งานได้ทั้งรหัสนักศึกษาและอีเมล์",vertical:!0}},methods:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(v.b)({setUserStore:"auth/setUser",logoutStore:"auth/logout"}),{onSubmit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.submitting=!0,n=t.credentials,e.prev=2,e.next=5,t.$apollo.mutate({mutation:l.a,variables:n}).then((function(t){var data=t.data;return data&&data.login}));case 5:return r=e.sent,e.next=8,t.$apolloHelpers.onLogin(r.jwt,void 0,{expires:7});case 8:t.setUserStore(r.user),t.$router.replace("/secureUser/profile"),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(2),console.error(e.t0),t.submitting=!1,t.error=e.t0;case 17:case"end":return e.stop()}}),e,null,[[2,12]])})))()}}),computed:{btnDisable:function(){return""==this.credentials.identifier||""==this.credentials.password?this.btnDis=!0:this.btnDis=!1}}},m=n(33),k=n(40),h=n.n(k),_=n(199),x=n(64),w=n(424),y=n(415),S=n(429),O=n(426),j=n(180),N=n(431),C=n(154),V=n(518),D=n(428),T=n(461),component=Object(m.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("v-flex",[r("div",{staticClass:"text-center"},[r("img",{staticClass:"my-auto",attrs:{src:n(254),alt:"CSBSRULogo",width:"200"}}),t._v(" "),r("blockquote",{staticClass:"blockquote"},[t._v("\n        “ Computer Science BSRU.”\n        "),r("br"),t._v("\n        “มหาวิทยาลัยราชภัฏบ้านสมเด็จเจ้าพระยา.”\n        "),r("footer",[r("small",[r("em",[t._v("—Top RametAKH")])])])]),t._v(" "),r("v-divider"),t._v(" "),r("br"),t._v(" "),r("h3",[r("em",[r("v-icon",{attrs:{left:""}},[t._v("fas fa-sign-in-alt")]),t._v("เข้าสู่ระบบ")],1)])],1)]),t._v(" "),r("div",{staticClass:"container mb-5 px-5"},[r("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[r("v-card-text",[r("v-text-field",{attrs:{id:"credentials.identifier",label:"Email or Username ","prepend-icon":"fas fa-user-lock",type:"text",autofocus:""},model:{value:t.credentials.identifier,callback:function(e){t.$set(t.credentials,"identifier",e)},expression:"credentials.identifier"}}),t._v(" "),r("v-text-field",{attrs:{id:"credentials.password",label:"password","prepend-icon":"fas fa-key",type:"password"},model:{value:t.credentials.password,callback:function(e){t.$set(t.credentials,"password",e)},expression:"credentials.password"}}),t._v(" "),r("v-card-actions",[r("a",{on:{click:function(e){t.snackbar=!0}}},[t._v("\n            รายละเอียด\n          ")]),t._v(" "),r("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),t._v(" "),r("nuxt-link",{attrs:{to:"/resetpass"}},[t._v("ลืมรหัสผ่าน")]),t._v(" "),r("v-snackbar",{attrs:{vertical:t.vertical},model:{value:t.snackbar,callback:function(e){t.snackbar=e},expression:"snackbar"}},[t._v("\n            "+t._s(t.text)+"\n            "),r("v-btn",{attrs:{color:"indigo",text:""},on:{click:function(e){t.snackbar=!1}}},[t._v("\n              Close\n            ")])],1),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{attrs:{type:"submit",disabled:t.btnDisable,rounded:"",color:"primary",large:""}},[r("v-icon",{attrs:{left:""}},[t._v("fas fa-sign-in-alt")]),t._v("\n            ลงชื่อเข้าใช้\n          ")],1)],1)],1),t._v(" "),t.submitting?r("div",{staticClass:"text-center"},[r("v-progress-circular",{attrs:{size:30,color:"primary",indeterminate:""}})],1):t._e()],1),t._v(" "),t.error?r("div",{staticStyle:{color:"red"}},[t._v("\n      Uername หรือ Password ไม่ถูกต้อง กรุณาลงชื่อเข้าใช้ใหม่\n    ")]):t._e()]),t._v(" "),r("v-footer",{staticClass:"py-4",attrs:{dark:"",height:"auto"}},[r("v-container",{attrs:{"mx-auto":""}},[r("v-layout",{attrs:{wrap:""}},[r("v-flex",{attrs:{xs9:""}},[r("div",{staticClass:"white--text ml-4"},[r("p",[r("v-icon",{staticClass:"red--text",attrs:{left:"",small:""}},[t._v("fab fa-vuejs")]),t._v("Create\n              By\n              "),r("a",{staticClass:"white--text",attrs:{href:"https://www.facebook.com/TopRamet.Akh"}},[t._v("Top RametAKH\n              ")]),t._v(" "),r("v-icon",{attrs:{right:"",small:""}},[t._v("fab fa-facebook")])],1),t._v(" "),r("a",{staticClass:"white--text",attrs:{href:""+t.BASE_URL,target:"_blank"}},[r("p",[r("v-icon",{staticClass:"red--text",attrs:{left:"",small:""}},[t._v("fas fa-user-shield")]),t._v("For Admin Login\n              ")],1)])])]),t._v(" "),r("v-spacer"),t._v(" "),r("v-btn",{staticClass:"mr-0 green",attrs:{small:"",square:"",title:"Go to top"},on:{click:function(e){return t.$vuetify.goTo(0)}}},[r("v-icon",[t._v("fas fa-angle-up")])],1)],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports;h()(component,{VBtn:_.a,VCardActions:x.a,VCardText:x.b,VContainer:w.a,VDivider:y.a,VFlex:S.a,VFooter:O.a,VIcon:j.a,VLayout:N.a,VProgressCircular:C.a,VSnackbar:V.a,VSpacer:D.a,VTextField:T.a})}}]);
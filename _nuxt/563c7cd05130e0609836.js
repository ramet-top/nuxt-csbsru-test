(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{630:function(e,t,r){"use strict";r.r(t);r(58);var n=r(20),o=new(r(458).a)("https://strapi-csbsru.herokuapp.com"),c={data:function(){return{isEditingResetpass:null,userData:{username:"5821207010",email:"rames01top@gmail.com"}}},methods:{checkAlertResetPass:function(){var e=this;return Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.userData.username||!e.userData.email){t.next=6;break}return t.next=3,o.getEntries("users",{username:e.userData.username}).then((function(t){console.log(t[0].username),e.userData.email==t[0].email?Swal.fire({title:"คุณแน่ใจหรือไม่ที่จะ Reset รหัสผ่าน?",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Ok!"}).then(function(){var t=Object(n.a)(regeneratorRuntime.mark((function t(r){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.$axios.$post("https://strapi-csbsru.herokuapp.com/auth/forgot-password",{email:e.userData.email}).then((function(e){console.log("Your user received an email")})).catch((function(e){console.log("An error occurred:",e)}));case 2:t.sent,r.value&&(Swal.fire("success!","กรุณาเช็ค email หลังจากนั้นให้ลงชื่อเข้าใช้ระบบใหม่เพื่อเข้าใช้งาน.","success"),e.$router.push("/login"),e.isEditingResetpass=null);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()):Swal.fire({icon:"error",title:"Oops...",text:"กรุณากรอก username และ email ให้ตรงกับที่ใช้สมัคร!",footer:"<a href>Why do I have this issue?</a>"})})).catch((function(e){Swal.fire({icon:"error",title:"Oops...",text:"ไม่มีชื่อผู้ใช้นี้!",footer:"ERROR CODE: "+e})}));case 3:t.sent,t.next=7;break;case 6:return t.abrupt("return",Swal.fire({icon:"error",title:"Oops...",text:"กรุณากรอกข้อมูลให้ครบ!",footer:"<a href>Why do I have this issue?</a>"}));case 7:case"end":return t.stop()}}),t)})))()}}},l=r(33),d=r(40),f=r.n(d),m=r(198),v=r(443),h=r(428),w=r(180),k=r(435),R=r(432),x=r(460),component=Object(l.a)(c,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("v-container",[r("v-row",[r("h3",{staticClass:"mx-auto"},[r("v-icon",[e._v("fas fa-lock")]),e._v(" รีเซ็ตรหัสผ่าน\n        "),r("v-btn",{attrs:{color:"red darken-3",dark:"",icon:"",small:""},on:{click:function(t){e.isEditingResetpass=!e.isEditingResetpass}}},[e.isEditingResetpass?r("v-icon",[e._v("far fa-window-close")]):r("v-icon",[e._v("far fa-edit")])],1)],1)]),e._v(" "),r("v-row",[r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{disabled:!e.isEditingResetpass,color:"red",outlined:"",dense:"",label:"Username"},model:{value:e.userData.username,callback:function(t){e.$set(e.userData,"username",t)},expression:"userData.username"}})],1),e._v(" "),r("v-col",{attrs:{cols:"12",md:"6"}},[r("v-text-field",{attrs:{disabled:!e.isEditingResetpass,color:"red",outlined:"",dense:"",label:"Email"},model:{value:e.userData.email,callback:function(t){e.$set(e.userData,"email",t)},expression:"userData.email"}})],1)],1),e._v(" "),r("v-row",[r("v-spacer"),e._v(" "),r("v-btn",{staticClass:"ma-2",attrs:{color:"success",disabled:!e.isEditingResetpass,dark:""},on:{click:e.checkAlertResetPass}},[e._v("Submit\n        "),r("v-icon",{attrs:{dark:"",right:""}},[e._v("fas fa-save")])],1)],1)],1)],1)}),[],!1,null,"52e57fa6",null);t.default=component.exports;f()(component,{VBtn:m.a,VCol:v.a,VContainer:h.a,VIcon:w.a,VRow:k.a,VSpacer:R.a,VTextField:x.a})}}]);